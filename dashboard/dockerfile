FROM python:latest


WORKDIR /dashboard

COPY requirements.txt .
RUN pip3 install -r requirements.txt

EXPOSE 8501 

RUN  mkdir ./pages
COPY ./pages ./pages

RUN mkdir ./streamlit
COPY ./.streamlit ./.streamlit

COPY main_page.py .


CMD streamlit run main_page.py --server.port 8501




# AWS ECR PUSH COMMANDS:
    # aws ecr get-login-password --region eu-west-2 | docker login --username AWS --password-stdin 129033205317.dkr.ecr.eu-west-2.amazonaws.com
    # docker build --platform "linux/amd64" -t c11-railway-tracker-dashboard-erc .
    # docker tag c11-railway-tracker-dashboard-erc:latest 129033205317.dkr.ecr.eu-west-2.amazonaws.com/c11-railway-tracker-dashboard-erc:latest
    # docker push 129033205317.dkr.ecr.eu-west-2.amazonaws.com/c11-railway-tracker-dashboard-erc:latest

# external link: http://18.132.245.150:8501

